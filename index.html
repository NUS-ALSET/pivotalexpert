<html ng-app="app">

  <head>
    <script src="lib/angular.min.js"></script>
    <script src="lib/firebase.js"></script>
    <script src="lib/angularfire.min.js"></script>
    <script src="js/app.js"></script>

  </head>

  <body ng-controller="SampleCtrl">
    <h2>Pivotal Expert</h2> {{all}}
    <div ng-hide="user">
      <button type="submit" ng-click="login('github')">Github Login</button>
      <button type="submit" ng-click="googleLogin()">Google Login</button>

    </div>
    <div ng-show="user">
      Hi {{profile.user.displayName}}. (edit)
      <button type="submit" ng-click="logout()">Logout</button>
    </div>
    <div ng-show="user && !user.publicId">
      <form ng-submit="addNewUserProfile()">
        Pick a unique username for Pivotal Expert. http://profile/<input ng-model="newProfileId" />
        <button type="submit">Save</button>
      </form>
    </div>

    <button type="submit" ng-click="updateAllServices()">Request for something to be updated</button>



    <h1>All Users</h1>
    <table class="table table-striped">
      <tr>
        <th></th>
        <th>Username</th>
        <th>Photo</th>

      </tr>
      <tr ng-repeat="item in allUsers">
        <td>
          {{$index+1}}.
        </td>
        <td>{{item.user.displayName}}</td>
        <td> <img ng-src="{{item.user.pic}}" height="42" width="42"> </td>

      </tr>
      <table>

        <h1>Task Queue</h1>
        <table class="table table-striped">
          <tr>
            <th>Id</th>
            <th>Service</th>
            <th>State</th>
            <th>Progress</th>
            <th>State Changed</th>
          </tr>
          <tr ng-repeat="item in updateTasks">
            <td>
              {{item.id}}
            </td>
            <td>
              {{item.service}}
            </td>
            <td>
              {{item._state}}
            </td>
            <td>
              {{item._progress}}
            </td>
            <td>
              {{item._state_changed}}
            </td>
            <td>
              {{getTime()}}
            </td>
          </tr>
          <table>

            <h1>Task Logs</h1>
            <table class="table table-striped">
              <tr>
                <th>User</th>
                <th>Service</th>
                <th>Service ID</th>
                <th>Achievements</th>
                <th>Minutes Ago</th>
              </tr>
              <tr ng-repeat="item in filteredLogs | orderBy:'-updated'" ">
          <td>
            {{$index+1}}.
          </td>
          <td>
              {{item.service}} 
          </td>
          <td>
            {{item.id}}
          </td>
          <td>
              {{item.count}} 
          </td>
          <td>{{ timePassed(item.updated) |number:2 }}
            </td>
        </tr>
      <table>
    <link rel="stylesheet " href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css " type="text/css " />

  </body>
</html>